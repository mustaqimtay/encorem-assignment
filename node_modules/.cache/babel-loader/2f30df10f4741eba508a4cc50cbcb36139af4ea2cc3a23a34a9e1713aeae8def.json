{"ast":null,"code":"import { createWebHistory, createRouter } from \"vue-router\";\nimport Login from \"./components/Login.vue\";\nimport Appointment from \"./components/Appointment.vue\";\nconst routes = [{\n  path: \"/appointment\",\n  name: \"appointment\",\n  component: Appointment\n}, {\n  path: \"/login\",\n  component: Login\n}];\nconst router = createRouter({\n  history: createWebHistory(),\n  routes\n});\nrouter.beforeEach((to, from, next) => {\n  const publicPages = ['/login'];\n  const authRequired = !publicPages.includes(to.path);\n  const loggedIn = localStorage.getItem('user');\n\n  // trying to access a restricted page + not logged in\n  // redirect to login page\n  if (authRequired && !loggedIn) {\n    next('/login');\n  } else {\n    next();\n  }\n});\nexport default router;","map":{"version":3,"names":["createWebHistory","createRouter","Login","Appointment","routes","path","name","component","router","history","beforeEach","to","from","next","publicPages","authRequired","includes","loggedIn","localStorage","getItem"],"sources":["/Volumes/ExternalSSD/Docker/www/develop/encore-med/src/router.js"],"sourcesContent":["import { createWebHistory, createRouter } from \"vue-router\";\nimport Login from \"./components/Login.vue\";\nimport Appointment from \"./components/Appointment.vue\";\n\n\n\n\nconst routes = [\n  {\n    path: \"/appointment\",\n    name: \"appointment\",\n    component: Appointment,\n  },\n \n  {\n    path: \"/login\",\n    component: Login,\n  },\n\n];\n\nconst router = createRouter({\n  history: createWebHistory(),\n  routes,\n});\n\nrouter.beforeEach((to, from, next) => {\nconst publicPages = ['/login'];\nconst authRequired = !publicPages.includes(to.path);\nconst loggedIn = localStorage.getItem('user');\n\n// trying to access a restricted page + not logged in\n// redirect to login page\nif (authRequired && !loggedIn) {\n    next('/login');\n} else {\n    next();\n}\n});\n\nexport default router;"],"mappings":"AAAA,SAASA,gBAAgB,EAAEC,YAAY,QAAQ,YAAY;AAC3D,OAAOC,KAAK,MAAM,wBAAwB;AAC1C,OAAOC,WAAW,MAAM,8BAA8B;AAKtD,MAAMC,MAAM,GAAG,CACb;EACEC,IAAI,EAAE,cAAc;EACpBC,IAAI,EAAE,aAAa;EACnBC,SAAS,EAAEJ;AACb,CAAC,EAED;EACEE,IAAI,EAAE,QAAQ;EACdE,SAAS,EAAEL;AACb,CAAC,CAEF;AAED,MAAMM,MAAM,GAAGP,YAAY,CAAC;EAC1BQ,OAAO,EAAET,gBAAgB,EAAE;EAC3BI;AACF,CAAC,CAAC;AAEFI,MAAM,CAACE,UAAU,CAAC,CAACC,EAAE,EAAEC,IAAI,EAAEC,IAAI,KAAK;EACtC,MAAMC,WAAW,GAAG,CAAC,QAAQ,CAAC;EAC9B,MAAMC,YAAY,GAAG,CAACD,WAAW,CAACE,QAAQ,CAACL,EAAE,CAACN,IAAI,CAAC;EACnD,MAAMY,QAAQ,GAAGC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC;;EAE7C;EACA;EACA,IAAIJ,YAAY,IAAI,CAACE,QAAQ,EAAE;IAC3BJ,IAAI,CAAC,QAAQ,CAAC;EAClB,CAAC,MAAM;IACHA,IAAI,EAAE;EACV;AACA,CAAC,CAAC;AAEF,eAAeL,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}