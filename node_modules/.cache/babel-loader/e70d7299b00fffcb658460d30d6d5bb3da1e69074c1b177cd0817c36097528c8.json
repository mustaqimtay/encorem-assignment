{"ast":null,"code":"import jwt_decode from 'jwt-decode';\nexport default function authHeader() {\n  let user = JSON.parse(localStorage.getItem('user'));\n  if (user && user.response.result !== undefined) {\n    const token = user.response.result.token;\n    if (token) {\n      const decoded = jwt_decode(token);\n      if (decoded.exp > Date.now() / (60 * 60)) return {\n        Authorization: 'Bearer ' + user.response.result.token\n      };\n    }\n    return {};\n  } else {\n    return {};\n  }\n}","map":{"version":3,"names":["jwt_decode","authHeader","user","JSON","parse","localStorage","getItem","response","result","undefined","token","decoded","exp","Date","now","Authorization"],"sources":["/Volumes/ExternalSSD/Docker/www/develop/encore-med/src/services/auth-header.js"],"sourcesContent":["import jwt_decode from 'jwt-decode';\n\nexport default function authHeader() {\n    let user = JSON.parse(localStorage.getItem('user'));\n\n    if (user && user.response.result !== undefined) {\n        const token = user.response.result.token;\n        if (token) {\n            const decoded = jwt_decode(token);\n            if(decoded.exp > Date.now() / (60*60))\n                return { Authorization: 'Bearer ' + user.response.result.token };\n        } \n        return {};\n    } else {\n        return {};\n    }\n}"],"mappings":"AAAA,OAAOA,UAAU,MAAM,YAAY;AAEnC,eAAe,SAASC,UAAUA,CAAA,EAAG;EACjC,IAAIC,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC;EAEnD,IAAIJ,IAAI,IAAIA,IAAI,CAACK,QAAQ,CAACC,MAAM,KAAKC,SAAS,EAAE;IAC5C,MAAMC,KAAK,GAAGR,IAAI,CAACK,QAAQ,CAACC,MAAM,CAACE,KAAK;IACxC,IAAIA,KAAK,EAAE;MACP,MAAMC,OAAO,GAAGX,UAAU,CAACU,KAAK,CAAC;MACjC,IAAGC,OAAO,CAACC,GAAG,GAAGC,IAAI,CAACC,GAAG,EAAE,IAAI,EAAE,GAAC,EAAE,CAAC,EACjC,OAAO;QAAEC,aAAa,EAAE,SAAS,GAAGb,IAAI,CAACK,QAAQ,CAACC,MAAM,CAACE;MAAM,CAAC;IACxE;IACA,OAAO,CAAC,CAAC;EACb,CAAC,MAAM;IACH,OAAO,CAAC,CAAC;EACb;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}