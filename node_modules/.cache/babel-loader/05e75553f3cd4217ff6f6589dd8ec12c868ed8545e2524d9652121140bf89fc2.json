{"ast":null,"code":"import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, vShow as _vShow, withDirectives as _withDirectives, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"col-md-12\"\n};\nconst _hoisted_2 = {\n  class: \"card card-container\"\n};\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"img\", {\n  src: \"https://s3-ap-southeast-1.amazonaws.com/encorehealthcare/website/image/logo.png\",\n  style: {\n    \"width\": \"300px\",\n    \"padding-top\": \"20px\"\n  },\n  alt: \"logo\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_4 = {\n  class: \"form-group\"\n};\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"username\"\n}, \"Username\", -1 /* HOISTED */);\nconst _hoisted_6 = {\n  class: \"form-group\"\n};\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"password\"\n}, \"Password\", -1 /* HOISTED */);\nconst _hoisted_8 = {\n  class: \"form-group\"\n};\nconst _hoisted_9 = [\"disabled\"];\nconst _hoisted_10 = {\n  class: \"spinner-border spinner-border-sm\"\n};\nconst _hoisted_11 = /*#__PURE__*/_createElementVNode(\"span\", null, \"Login\", -1 /* HOISTED */);\nconst _hoisted_12 = {\n  class: \"form-group\"\n};\nconst _hoisted_13 = {\n  key: 0,\n  class: \"alert alert-danger\",\n  role: \"alert\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_center = _resolveComponent(\"center\");\n  const _component_Field = _resolveComponent(\"Field\");\n  const _component_ErrorMessage = _resolveComponent(\"ErrorMessage\");\n  const _component_Form = _resolveComponent(\"Form\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createVNode(_component_center, null, {\n    default: _withCtx(() => [_hoisted_3]),\n    _: 1 /* STABLE */\n  }), _createVNode(_component_Form, {\n    onSubmit: $options.handleLogin,\n    \"validation-schema\": $data.schema\n  }, {\n    default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_4, [_hoisted_5, _createVNode(_component_Field, {\n      name: \"username\",\n      type: \"text\",\n      class: \"form-control\"\n    }), _createVNode(_component_ErrorMessage, {\n      name: \"username\",\n      class: \"error-feedback\"\n    })]), _createElementVNode(\"div\", _hoisted_6, [_hoisted_7, _createVNode(_component_Field, {\n      name: \"password\",\n      type: \"password\",\n      class: \"form-control\"\n    }), _createVNode(_component_ErrorMessage, {\n      name: \"password\",\n      class: \"error-feedback\"\n    })]), _createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"button\", {\n      class: \"btn btn-primary btn-block\",\n      disabled: $data.loading\n    }, [_withDirectives(_createElementVNode(\"span\", _hoisted_10, null, 512 /* NEED_PATCH */), [[_vShow, $data.loading]]), _hoisted_11], 8 /* PROPS */, _hoisted_9)]), _createElementVNode(\"div\", _hoisted_12, [$data.message ? (_openBlock(), _createElementBlock(\"div\", _hoisted_13, _toDisplayString($data.message), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)])]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"onSubmit\", \"validation-schema\"])])]);\n}","map":{"version":3,"names":["class","_createElementVNode","src","style","alt","for","role","_createElementBlock","_hoisted_1","_hoisted_2","_createVNode","_component_center","_hoisted_3","_component_Form","onSubmit","$options","handleLogin","$data","schema","_hoisted_4","_hoisted_5","_component_Field","name","type","_component_ErrorMessage","_hoisted_6","_hoisted_7","_hoisted_8","disabled","loading","_hoisted_10","_hoisted_11","_hoisted_12","message","_hoisted_13","_toDisplayString"],"sources":["/Volumes/ExternalSSD/Docker/www/develop/encore-med/src/components/Login.vue"],"sourcesContent":["<template>\n    <div class=\"col-md-12\">\n      \n      <div class=\"card card-container\">\n        <center><img src=\"https://s3-ap-southeast-1.amazonaws.com/encorehealthcare/website/image/logo.png\" style=\"width: 300px;padding-top:20px\" alt=\"logo\"></center>\n        <Form @submit=\"handleLogin\" :validation-schema=\"schema\">\n          <div class=\"form-group\">\n            <label for=\"username\">Username</label>\n            <Field name=\"username\" type=\"text\" class=\"form-control\" />\n            <ErrorMessage name=\"username\" class=\"error-feedback\" />\n          </div>\n          <div class=\"form-group\">\n            <label for=\"password\">Password</label>\n            <Field name=\"password\" type=\"password\" class=\"form-control\" />\n            <ErrorMessage name=\"password\" class=\"error-feedback\" />\n          </div>\n  \n          <div class=\"form-group\">\n            <button class=\"btn btn-primary btn-block\" :disabled=\"loading\">\n              <span v-show=\"loading\" class=\"spinner-border spinner-border-sm\"></span>\n              <span>Login</span>\n            </button>\n          </div>\n  \n          <div class=\"form-group\">\n            <div v-if=\"message\" class=\"alert alert-danger\" role=\"alert\">\n              {{ message }}\n            </div>\n          </div>\n        </Form>\n      </div>\n    </div>\n  </template>\n\n  <script>\n  import { Form, Field, ErrorMessage } from \"vee-validate\";\n  import * as yup from \"yup\";\n  \n  export default {\n    name: \"Login\",\n    components: {\n      Form,\n      Field,\n      ErrorMessage,\n    },\n    data() {\n      const schema = yup.object().shape({\n        username: yup.string().required(\"Username is required!\"),\n        password: yup.string().required(\"Password is required!\"),\n      });\n  \n      return {\n        loading: false,\n        message: \"\",\n        schema,\n      };\n    },\n    computed: {\n      loggedIn() {\n        return this.$store.state.auth.status.loggedIn;\n      },\n    },\n    created() {\n      if (this.loggedIn) {\n        this.$router.push(\"/appointment\");\n      }\n    },\n    methods: {\n      handleLogin(user) {\n        this.loading = true;\n        \n        this.$store.dispatch(\"auth/login\", user).then(\n          () => {\n            this.$router.push(\"/appointment\");\n          },\n          (error) => {\n          \n            this.loading = false;\n            this.message =\n              (error.response &&\n                error.response.data &&\n                error.response.data.message) ||\n              error.message ||\n              error.toString();\n          }\n        );\n\n       \n      },\n    },\n  };\n  </script>"],"mappings":";;EACSA,KAAK,EAAC;AAAW;;EAEfA,KAAK,EAAC;AAAqB;gCACtBC,mBAAA,CAA4I;EAAvIC,GAAG,EAAC,iFAAiF;EAACC,KAAqC,EAArC;IAAA;IAAA;EAAA,CAAqC;EAACC,GAAG,EAAC;;;EAEtIJ,KAAK,EAAC;AAAY;gCACrBC,mBAAA,CAAsC;EAA/BI,GAAG,EAAC;AAAU,GAAC,UAAQ;;EAI3BL,KAAK,EAAC;AAAY;gCACrBC,mBAAA,CAAsC;EAA/BI,GAAG,EAAC;AAAU,GAAC,UAAQ;;EAK3BL,KAAK,EAAC;AAAY;;;EAEIA,KAAK,EAAC;AAAkC;iCAC/DC,mBAAA,CAAkB,cAAZ,OAAK;;EAIVD,KAAK,EAAC;AAAY;;;EACDA,KAAK,EAAC,oBAAoB;EAACM,IAAI,EAAC;;;;;;;uBAxB5DC,mBAAA,CA8BM,OA9BNC,UA8BM,GA5BJP,mBAAA,CA2BM,OA3BNQ,UA2BM,GA1BJC,YAAA,CAA6JC,iBAAA;sBAArJ,MAA4I,CAA5IC,UAA4I,C;;MACpJF,YAAA,CAwBOG,eAAA;IAxBAC,QAAM,EAAEC,QAAA,CAAAC,WAAW;IAAG,mBAAiB,EAAEC,KAAA,CAAAC;;sBAC9C,MAIM,CAJNjB,mBAAA,CAIM,OAJNkB,UAIM,GAHJC,UAAsC,EACtCV,YAAA,CAA0DW,gBAAA;MAAnDC,IAAI,EAAC,UAAU;MAACC,IAAI,EAAC,MAAM;MAACvB,KAAK,EAAC;QACzCU,YAAA,CAAuDc,uBAAA;MAAzCF,IAAI,EAAC,UAAU;MAACtB,KAAK,EAAC;UAEtCC,mBAAA,CAIM,OAJNwB,UAIM,GAHJC,UAAsC,EACtChB,YAAA,CAA8DW,gBAAA;MAAvDC,IAAI,EAAC,UAAU;MAACC,IAAI,EAAC,UAAU;MAACvB,KAAK,EAAC;QAC7CU,YAAA,CAAuDc,uBAAA;MAAzCF,IAAI,EAAC,UAAU;MAACtB,KAAK,EAAC;UAGtCC,mBAAA,CAKM,OALN0B,UAKM,GAJJ1B,mBAAA,CAGS;MAHDD,KAAK,EAAC,2BAA2B;MAAE4B,QAAQ,EAAEX,KAAA,CAAAY;wBACnD5B,mBAAA,CAAuE,QAAvE6B,WAAuE,gC,SAAzDb,KAAA,CAAAY,OAAO,E,GACrBE,WAAkB,C,gCAItB9B,mBAAA,CAIM,OAJN+B,WAIM,GAHOf,KAAA,CAAAgB,OAAO,I,cAAlB1B,mBAAA,CAEM,OAFN2B,WAEM,EAAAC,gBAAA,CADDlB,KAAA,CAAAgB,OAAO,oB"},"metadata":{},"sourceType":"module","externalDependencies":[]}